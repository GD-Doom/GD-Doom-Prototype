// 
//    EDGE ATTACKS.DDF -redefine or add new attacks.
//    For documentation, see https://edge-classic.github.io/
//

<ATTACKS>

//------------------ Player Attacks ------------------

[PLAYER_SHOTGUN2]
ATTACKTYPE=SHOT;
SHOTCOUNT=20;
DAMAGE.VAL=5;
DAMAGE.MAX=15;
DAMAGE.OBITUARY="OB_Shotgun";
ATTACK_HEIGHT=32;
ACCURACY_ANGLE=12;
ACCURACY_SLOPE=6;
ENGAGED_SOUND=DSHTGN;
ATTACKRANGE=2048;
PUFF=PUFF;

//------------------ Monster Attacks ------------------

[FORMER_HUMAN_CHAINGUN]
ATTACKTYPE=SHOT;
SHOTCOUNT=1;
DAMAGE.VAL=3;
DAMAGE.MAX=15;
DAMAGE.OBITUARY="OB_ChaingunGuy";
ACCURACY_ANGLE=22;
ACCURACY_SLOPE=12;
ENGAGED_SOUND=SHOTGN;
KEEP_FIRING_CHANCE=15.68%;
ATTACK_SPECIAL=FACE_TARGET;
PUFF=PUFF;

[REVENANT_CLOSECOMBAT]
ATTACKTYPE=CLOSECOMBAT;
DAMAGE.VAL=6;
DAMAGE.MAX=60;
DAMAGE.OBITUARY="OB_RevPunch";
ATTEMPT_SOUND=SKESWG;
ENGAGED_SOUND=SKEPCH;
ATTACKRANGE=64;

[REVENANT_MISSILE]
ATTACKTYPE=PROJECTILE;
HEIGHT=8;
RADIUS=11;
DAMAGE.VAL=10;
DAMAGE.MAX=80;
DAMAGE.OBITUARY="OB_Revenant";
ATTACK_HEIGHT=48;
SPEED=10;
NO_TRACE_CHANCE=50%;
TRACE_ANGLE=16.8;
TOO_CLOSE_RANGE=196;
ATTACK_SPECIAL=FACE_TARGET,SMOKING_TRACER;
PROJECTILE_SPECIAL=NOBLOCKMAP,MISSILE,DROPOFF,NOGRAVITY,NOSHADOW;
LAUNCH_SOUND=SKEATK;
PUFF=SMOKE;
DLIGHT.TYPE=MODULATE;
DLIGHT.RADIUS=100;
//DLIGHT.COLOUR=#FF8000;
DLIGHT.AUTOCOLOUR="FATBA1";

STATES(IDLE)=FATB:A:2:BRIGHT:RANDOM_TRACER,
             FATB:B:2:BRIGHT:NOTHING;

STATES(DEATH)=FBXP:A:0:BRIGHT:DLIGHT_FADE(0),
              FBXP:A:0:BRIGHT:TRANS_FADE(0%),
              FBXP:A:0:BRIGHT:KILLSOUND,
              FBXP:A:8:BRIGHT:PLAYSOUND(BAREXP),
              FBXP:B:6:BRIGHT:NOTHING,
              FBXP:C:4:BRIGHT:NOTHING,
              #REMOVE;

[ELEMENTAL_SPAWNER]
ATTACKTYPE=SPAWNER;
ATTACK_HEIGHT=8;
ATTACK_SPECIAL=PRESTEP_SPAWN;
SPAWNED_OBJECT=LOST_SOUL;
SPAWN_OBJECT_STATE=MISSILE:2;
SPAWN_LIMIT=21;
ATTACK_SPECIAL=FACE_TARGET;

[ELEMENTAL_DEATHSPAWN]
ATTACKTYPE=TRIPLE_SPAWNER;
ATTACK_HEIGHT=8;
ATTACK_SPECIAL=PRESTEP_SPAWN,FACE_TARGET;
SPAWNED_OBJECT=LOST_SOUL;
SPAWN_OBJECT_STATE=MISSILE:2;

[MANCUBUS_FIREBALL]
ATTACKTYPE=FIXED_SPREADER;
HEIGHT=8;
RADIUS=6;
DAMAGE.VAL=8;
DAMAGE.MAX=64;
DAMAGE.OBITUARY="OB_Mancubus";
ATTACK_HEIGHT=32;
SPEED=20;
PROJECTILE_SPECIAL=NOBLOCKMAP,MISSILE,DROPOFF,NOGRAVITY,NOSHADOW;
ATTEMPT_SOUND=MANATK;
LAUNCH_SOUND=FIRSHT;
DEATH_SOUND=FIRXPL;
TRANSLUCENCY=80%;
DLIGHT.TYPE=MODULATE;
DLIGHT.RADIUS=100;
//DLIGHT.COLOUR=#FF0000;
DLIGHT.AUTOCOLOUR="MANFA1";

STATES(IDLE)=MANF:A:4:BRIGHT:NOTHING,
             MANF:B:4:BRIGHT:NOTHING;

STATES(DEATH)=MISL:B:0:BRIGHT:DLIGHT_SET(200),
              MISL:B:0:BRIGHT:DLIGHT_FADE(0),
              MISL:B:0:BRIGHT:TRANS_FADE(0%),
              MISL:B:0:BRIGHT:KILLSOUND,
              MISL:B:8:BRIGHT:PLAYSOUND(FIRXPL),
              MISL:C:6:BRIGHT:NOTHING,
              MISL:D:4:BRIGHT:NOTHING,
              #REMOVE;

[ARACHNOTRON_PLASMA]
ATTACKTYPE=PROJECTILE;
HEIGHT=8;
RADIUS=13;
DAMAGE.VAL=5;
DAMAGE.MAX=40;
DAMAGE.OBITUARY="OB_Arachnotron";
ATTACK_HEIGHT=16;
SPEED=25;
KEEP_FIRING_CHANCE=3.92%;
LAUNCH_SOUND=PLASMA;
ATTACK_SPECIAL=FACE_TARGET;
PROJECTILE_SPECIAL=NOBLOCKMAP,MISSILE,DROPOFF,NOGRAVITY,NOSHADOW;
TRANSLUCENCY=45%;
DLIGHT.TYPE=MODULATE;
DLIGHT.RADIUS=150;
//DLIGHT.COLOUR=#C0FF00;
DLIGHT.AUTOCOLOUR="APLSA0";

STATES(IDLE)=APLS:A:5:BRIGHT:NOTHING,
             APLS:B:5:BRIGHT:NOTHING;

STATES(DEATH)=APBX:A:0:BRIGHT:DLIGHT_SET(200),
              APBX:A:0:BRIGHT:DLIGHT_FADE(0),
              APBX:A:5:BRIGHT:KILLSOUND,
              APBX:A:5:BRIGHT:PLAYSOUND(FIRXPL),
              APBX:A:5:BRIGHT:TRANS_FADE(0%),
              APBX:B:5:BRIGHT:NOTHING,
              APBX:C:5:BRIGHT:NOTHING,
              APBX:D:5:BRIGHT:NOTHING,
              APBX:E:5:BRIGHT:NOTHING,
              #REMOVE;

[ARCHVILE_FIRE]
ATTACKTYPE=TRACKER;
RADIUS=20;
HEIGHT=16;
DAMAGE.VAL=20;
DAMAGE.OBITUARY="OB_Archvile";
EXPLODE_DAMAGE.VAL=70;
ATTEMPT_SOUND=VILATK;
ENGAGED_SOUND=BAREXP;
LAUNCH_SOUND=FLAMST;
ACTIVE_SOUND=FLAME;
ATTACK_SPECIAL=NEED_SIGHT,FACE_TARGET;
TRANSLUCENCY=80%;
DLIGHT.TYPE=MODULATE;
DLIGHT.RADIUS=150;
//DLIGHT.COLOUR=#FFFF40;
DLIGHT.AUTOCOLOUR="FIREA0";

STATES(SPAWN)=FIRE:A:2:BRIGHT:DLIGHT_FADE(0),
              FIRE:A:2:BRIGHT:TRANS_FADE(0%),
              FIRE:A:2:BRIGHT:TRACKERSTART,
              FIRE:B:2:BRIGHT:TRACKERFOLLOW,
              FIRE:A:2:BRIGHT:TRACKERFOLLOW,
              FIRE:B:2:BRIGHT:TRACKERFOLLOW,
              FIRE:C:2:BRIGHT:TRACKERACTIVE,
              FIRE:B:2:BRIGHT:TRACKERFOLLOW,
              FIRE:C:2:BRIGHT:TRACKERFOLLOW,
              FIRE:B:2:BRIGHT:TRACKERFOLLOW,
              FIRE:C:2:BRIGHT:TRACKERFOLLOW,
              FIRE:D:2:BRIGHT:TRACKERFOLLOW,
              FIRE:C:2:BRIGHT:TRACKERFOLLOW,
              FIRE:D:2:BRIGHT:TRACKERFOLLOW,
              FIRE:C:2:BRIGHT:TRACKERFOLLOW,
              FIRE:D:2:BRIGHT:TRACKERFOLLOW,
              FIRE:E:2:BRIGHT:TRACKERFOLLOW,
              FIRE:D:2:BRIGHT:TRACKERFOLLOW,
              FIRE:E:2:BRIGHT:TRACKERFOLLOW,
              FIRE:D:2:BRIGHT:TRACKERFOLLOW,
              FIRE:E:2:BRIGHT:TRACKERACTIVE,
              FIRE:F:2:BRIGHT:TRACKERFOLLOW,
              FIRE:E:2:BRIGHT:TRACKERFOLLOW,
              FIRE:F:2:BRIGHT:TRACKERFOLLOW,
              FIRE:E:2:BRIGHT:TRACKERFOLLOW,
              FIRE:F:2:BRIGHT:TRACKERFOLLOW,
              FIRE:G:2:BRIGHT:TRACKERFOLLOW,
              FIRE:H:2:BRIGHT:TRACKERFOLLOW,
              FIRE:G:2:BRIGHT:TRACKERFOLLOW,
              FIRE:H:2:BRIGHT:TRACKERFOLLOW,
              FIRE:G:2:BRIGHT:TRACKERFOLLOW,
              FIRE:H:2:BRIGHT:TRACKERFOLLOW,
              #REMOVE;

[WOLFENSTEIN_CHAINGUN]
ATTACKTYPE=SHOT;
SHOTCOUNT=1;
DAMAGE.VAL=3;
DAMAGE.MAX=15;
DAMAGE.OBITUARY="OB_WolfSS";
ACCURACY_ANGLE=22;
ACCURACY_SLOPE=12;
ENGAGED_SOUND=SHOTGN;
KEEP_FIRING_CHANCE=15.68%;
ATTACK_SPECIAL=FACE_TARGET;
PUFF=PUFF;

// ------------------ Boss Brain Stuff ------------------

[BRAIN_CUBE]
ATTACKTYPE=SHOOTTOSPOT;
RADIUS=6;
HEIGHT=8;
SPAWNHEALTH=1000;
DAMAGE.VAL=8;
DAMAGE.MAX=64;
ATTACK_HEIGHT=16;
SPEED=9;
MASS=100;
REACTIONTIME=8T;
PROJECTILE_SPECIAL=NOBLOCKMAP,NOCLIP,MISSILE,DROPOFF,NOGRAVITY,BOSSMAN;
LAUNCH_SOUND=BOSPIT;
ACTIVE_SOUND=BOSCUB;
DEATH_SOUND=TELEPT;  // FIRXPL
DLIGHT.TYPE=MODULATE;
DLIGHT.RADIUS=5;
//DLIGHT.COLOUR=#FFFF40;
DLIGHT.AUTOCOLOUR="FIREA0";

STATES(IDLE)=BOSF:A:3:BRIGHT:CUBETRACER,
             BOSF:B:3:BRIGHT:NOTHING,
             BOSF:C:3:BRIGHT:CUBETRACER,
             BOSF:D:3:BRIGHT:MAKEACTIVESOUND;

STATES(DEATH)=FIRE:A:0:BRIGHT:DLIGHT_SET(200),
              FIRE:A:0:BRIGHT:DLIGHT_FADE(0),
              FIRE:A:4:BRIGHT:TRANS_FADE(10%),
              FIRE:B:4:BRIGHT:NOTHING,
              FIRE:C:4:BRIGHT:NOTHING,
              FIRE:D:4:BRIGHT:NOTHING,
              FIRE:E:4:BRIGHT:NOTHING,
              FIRE:F:4:BRIGHT:NOTHING,
              FIRE:G:4:BRIGHT:NOTHING,
              FIRE:H:4:BRIGHT:CUBESPAWN,
              #REMOVE;