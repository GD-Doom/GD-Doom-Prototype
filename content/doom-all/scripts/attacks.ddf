// 
//    EDGE ATTACKS.DDF -redefine or add new attacks.
//    For documentation, see https://edge-classic.github.io/
//

<ATTACKS>

//------------------ Player Attacks ------------------

[PLAYER_PUNCH]
ATTACKTYPE=CLOSECOMBAT;
DAMAGE.VAL=2;
DAMAGE.MAX=20;
DAMAGE.OBITUARY="OB_Punch";
ATTACK_HEIGHT=32;
ATTACKRANGE=96;
ACCURACY_ANGLE=0;
ACCURACY_SLOPE=0;
BERSERK_MULTIPLY=10;
ATTACK_SPECIAL=FACE_TARGET,FORCE_AIM,SILENT_TO_MONSTERS;
ENGAGED_SOUND=PUNCH;
PUFF=PUFF;

[PLAYER_SAW]
ATTACKTYPE=CLOSECOMBAT;
DAMAGE.VAL=2;
DAMAGE.MAX=20;
DAMAGE.OBITUARY="OB_Saw";
ATTACK_HEIGHT=28;
X_OFFSET=4;
ACCURACY_ANGLE=12;
ACCURACY_SLOPE=6;
ENGAGED_SOUND=SAWHIT;
ATTACK_SPECIAL=FACE_TARGET,FORCE_AIM;
ATTACKRANGE=63.9;
PUFF=PUFF;

[PLAYER_PISTOL]
ATTACKTYPE=SHOT;
SHOTCOUNT=1;
DAMAGE.VAL=5;
DAMAGE.MAX=15;
DAMAGE.OBITUARY="OB_Pistol";
ATTACK_HEIGHT=32;
ACCURACY_ANGLE=3;
ACCURACY_SLOPE=1.5;
ENGAGED_SOUND=PISTOL;
ATTACKRANGE=2048;
PUFF=PUFF;

[PLAYER_SHOTGUN]
ATTACKTYPE=SHOT;
SHOTCOUNT=7;
DAMAGE.VAL=5;
DAMAGE.MAX=15;
DAMAGE.OBITUARY="OB_Shotgun";
ATTACK_HEIGHT=32;
ACCURACY_ANGLE=6;
ACCURACY_SLOPE=0;
ENGAGED_SOUND=SHOTGN;
ATTACKRANGE=2048;
PUFF=PUFF;

[PLAYER_CHAINGUN]
ATTACKTYPE=SHOT;
SHOTCOUNT=1;
DAMAGE.VAL=5;
DAMAGE.MAX=15;
DAMAGE.OBITUARY="OB_Chaingun";
ATTACK_HEIGHT=32;
ACCURACY_ANGLE=6;
ACCURACY_SLOPE=3;
ATTACKRANGE=2048;
ENGAGED_SOUND=CHGUN;
PUFF=PUFF;

[PLAYER_MISSILE]
ATTACKTYPE=PROJECTILE;
HEIGHT=8;
RADIUS=11;
SPEED=20;
DAMAGE.VAL=20;
DAMAGE.MAX=160;
DAMAGE.OBITUARY="OB_Missile";
ATTACKRANGE=2048;
ATTACK_SPECIAL=KILL_FAILED_SPAWN;
PROJECTILE_SPECIAL=NOBLOCKMAP,DROPOFF,NOGRAVITY,MISSILE,NOSHADOW;
ATTACK_HEIGHT=32;
EXPLODE_DAMAGE.VAL=128;
EXPLODE_DAMAGE.OBITUARY="OB_EXPLODE";
LAUNCH_SOUND=RLAUNC;
DLIGHT.TYPE=MODULATE;
DLIGHT.RADIUS=100;
//DLIGHT.COLOUR=#990000;
DLIGHT.AUTOCOLOUR="MISLB0";
DLIGHT.LEAKY=TRUE;

STATES(IDLE)=MISL:A:10:BRIGHT:NOTHING;

STATES(DEATH)=MISL:B:0:BRIGHT:DLIGHT_SET(150),
              MISL:B:0:BRIGHT:DLIGHT_FADE(0),
              MISL:B:0:BRIGHT:TRANS_FADE(0%),
              MISL:B:0:BRIGHT:KILLSOUND,
              MISL:B:0:BRIGHT:PLAYSOUND(BAREXP),
              MISL:B:8:BRIGHT:EXPLOSIONDAMAGE,
              MISL:C:6:BRIGHT:NOTHING,
              MISL:D:4:BRIGHT:NOTHING,
              #REMOVE;

[PLAYER_PLASMA]
ATTACKTYPE=PROJECTILE;
HEIGHT=8;
RADIUS=13;
DAMAGE.VAL=5;
DAMAGE.MAX=40;
DAMAGE.OBITUARY="OB_Plasma";
ATTACK_HEIGHT=32;
SPEED=25;
KEEP_FIRING_CHANCE=3.92%;
ATTACKRANGE=2048;
ATTACK_SPECIAL=KILL_FAILED_SPAWN,PLAYER_ATTACK;
PROJECTILE_SPECIAL=NOBLOCKMAP,MISSILE,DROPOFF,NOGRAVITY,NOSHADOW;
LAUNCH_SOUND=PLASMA;
TRANSLUCENCY=55%;
DLIGHT.TYPE=MODULATE;
DLIGHT.RADIUS=150;
//DLIGHT.COLOUR=#4080FF;
DLIGHT.AUTOCOLOUR="PLSSA0";

STATES(IDLE)=PLSS:A:6:LIT88:NOTHING,
             PLSS:B:6:LIT88:NOTHING;

STATES(DEATH)=PLSE:A:0:LIT88:DLIGHT_FADE(0),
              PLSE:A:0:LIT88:TRANS_FADE(0%),
              PLSE:A:0:LIT88:KILLSOUND,
              PLSE:A:4:LIT88:PLAYSOUND(FIRXPL),
              PLSE:B:4:LIT88:NOTHING,
              PLSE:C:4:LIT88:NOTHING,
              PLSE:D:4:LIT88:NOTHING,
              PLSE:E:4:LIT88:NOTHING,
              #REMOVE;

[BFG9000_SPRAY]
ATTACKTYPE=SPRAY;
HEIGHT=16;
RADIUS=20;
TRANSLUCENCY=50%;
DAMAGE.VAL=15;
DAMAGE.MAX=120;
DAMAGE.OBITUARY="OB_BFG";
ATTACKRANGE=2048;
ATTACK_SPECIAL=PLAYER_ATTACK;
PROJECTILE_SPECIAL=NOGRAVITY,NOSHADOW;
DLIGHT.TYPE=MODULATE;
DLIGHT.RADIUS=100;
//DLIGHT.COLOUR=#00CC00;
DLIGHT.AUTOCOLOUR="BFE2A0";

STATES(SPAWN)=BFE2:A:0:BRIGHT:DLIGHT_FADE(0),
              BFE2:A:0:BRIGHT:TRANS_FADE(0%),
              BFE2:A:8:BRIGHT:NOTHING,
              BFE2:B:8:BRIGHT:NOTHING,
              BFE2:C:8:BRIGHT:NOTHING,
              BFE2:D:8:BRIGHT:NOTHING,
              #REMOVE;

[PLAYER_BFG9000]
ATTACKTYPE=PROJECTILE;
HEIGHT=8;
RADIUS=13;
SPEED=25;
DAMAGE.VAL=100;
DAMAGE.MAX=800;
DAMAGE.OBITUARY="OB_BFG";
ATTACK_HEIGHT=32;
ATTACKRANGE=2048;
TRANSLUCENCY=66%;
SPARE_ATTACK=BFG9000_SPRAY;
ATTACK_SPECIAL=KILL_FAILED_SPAWN;
PROJECTILE_SPECIAL=NOBLOCKMAP,MISSILE,DROPOFF,NOGRAVITY,NOSHADOW;
DLIGHT.TYPE=MODULATE;
DLIGHT.RADIUS=150;
//DLIGHT.COLOUR=#008800;
DLIGHT.AUTOCOLOUR="BFS1A0";

STATES(IDLE)=BFS1:A:4:BRIGHT:NOTHING,
             BFS1:B:4:BRIGHT:NOTHING;

STATES(DEATH)=BFE1:A:0:BRIGHT:DLIGHT_SET(300),
              BFE1:A:0:BRIGHT:DLIGHT_FADE(0),
              BFE1:A:0:BRIGHT:TRANS_FADE(0%),
              BFE1:A:0:BRIGHT:KILLSOUND,
              BFE1:A:8:BRIGHT:PLAYSOUND(RXPLOD),
              BFE1:B:8:BRIGHT:NOTHING,
              BFE1:C:8:BRIGHT:SPARE_ATTACK,
              BFE1:D:8:BRIGHT:NOTHING,
              BFE1:E:8:BRIGHT:NOTHING,
              BFE1:F:8:BRIGHT:NOTHING,
              #REMOVE;


//------------------ Monster Attacks ------------------

[FORMER_HUMAN_PISTOL]
ATTACKTYPE=SHOT;
SHOTCOUNT=1;
DAMAGE.VAL=3;
DAMAGE.MAX=15;
DAMAGE.OBITUARY="OB_Zombie";
ACCURACY_ANGLE=22;
ACCURACY_SLOPE=12;
ENGAGED_SOUND=PISTOL;
ATTACK_SPECIAL=FACE_TARGET;
PUFF=PUFF;

[FORMER_HUMAN_SHOTGUN]
ATTACKTYPE=SHOT;
SHOTCOUNT=3;
DAMAGE.VAL=3;
DAMAGE.MAX=15;
DAMAGE.OBITUARY="OB_ShotgunGuy";
ACCURACY_ANGLE=14;
ACCURACY_SLOPE=0;
ENGAGED_SOUND=SHOTGN;
KEEP_FIRING_CHANCE=3.92%;
ATTACK_SPECIAL=FACE_TARGET;
PUFF=PUFF;

[IMP_CLOSECOMBAT]
ATTACKTYPE=CLOSECOMBAT;
DAMAGE.VAL=3;
DAMAGE.MAX=24;
DAMAGE.OBITUARY="OB_ImpClaw";
ENGAGED_SOUND=CLAW;
ATTACKRANGE=64;
ATTACK_SPECIAL=NEED_SIGHT,FACE_TARGET;

[IMP_FIREBALL]
ATTACKTYPE=PROJECTILE;
HEIGHT=8;
RADIUS=6;
DAMAGE.VAL=3;
DAMAGE.MAX=24;
DAMAGE.OBITUARY="OB_Imp";
ATTACK_HEIGHT=32;
SPEED=10;
FAST_SPEED=20;
ATTACK_SPECIAL=FACE_TARGET;
PROJECTILE_SPECIAL=NOBLOCKMAP,MISSILE,DROPOFF,NOGRAVITY;
LAUNCH_SOUND=FIRSHT;
TRANSLUCENCY=65%;
DLIGHT.TYPE=MODULATE;
DLIGHT.RADIUS=150;
//DLIGHT.COLOUR=#FF0000;
DLIGHT.AUTOCOLOUR="BAL1A0";

STATES(IDLE)=BAL1:A:4:BRIGHT:NOTHING,
             BAL1:B:4:BRIGHT:NOTHING;

STATES(DEATH)=BAL1:C:0:BRIGHT:DLIGHT_SET(200),
              BAL1:C:0:BRIGHT:DLIGHT_FADE(0),
              BAL1:C:0:BRIGHT:TRANS_FADE(0%),
              BAL1:C:0:BRIGHT:KILLSOUND,
              BAL1:C:6:BRIGHT:PLAYSOUND(FIRXPL),
              BAL1:D:6:BRIGHT:NOTHING,
              BAL1:E:6:BRIGHT:NOTHING,
              #REMOVE;

[DEMON_CLOSECOMBAT]
ATTACKTYPE=CLOSECOMBAT;
DAMAGE.VAL=4;
DAMAGE.MAX=40;
DAMAGE.OBITUARY="OB_Demon";
ATTACKRANGE=64;
ATTACK_SPECIAL=NEED_SIGHT,FACE_TARGET;

[DOG_BITE]
ATTACKTYPE=CLOSECOMBAT;
DAMAGE.VAL=4;
DAMAGE.MAX=40;
DAMAGE.OBITUARY="OB_Dog";
ATTACKRANGE=64;
ATTACK_SPECIAL=NEED_SIGHT,FACE_TARGET;

[SKULL_ASSAULT]
ATTACKTYPE=SKULLFLY;
DAMAGE.VAL=3;
DAMAGE.MAX=24;
DAMAGE.OBITUARY="OB_Skull";
ASSAULT_SPEED=20;
ATTEMPT_SOUND=SKLATK;
ATTACK_SPECIAL=FACE_TARGET;

[CACO_CLOSECOMBAT]
ATTACKTYPE=CLOSECOMBAT;
DAMAGE.VAL=10;
DAMAGE.MAX=60;
DAMAGE.OBITUARY="OB_CacoBite";
ATTACKRANGE=64;
ATTACK_SPECIAL=NEED_SIGHT,FACE_TARGET;

[CACO_FIREBALL]
ATTACKTYPE=PROJECTILE;
HEIGHT=8;
RADIUS=6;
DAMAGE.VAL=5;
DAMAGE.MAX=40;
DAMAGE.OBITUARY="OB_Cacodemon";
ATTACK_HEIGHT=32;
LAUNCH_SOUND=FIRSHT;
SPEED=10;
FAST_SPEED=20;
ATTACK_SPECIAL=FACE_TARGET;
PROJECTILE_SPECIAL=NOBLOCKMAP,MISSILE,DROPOFF,NOGRAVITY;
TRANSLUCENCY=75%;
DLIGHT.TYPE=MODULATE;
DLIGHT.RADIUS=150;
//DLIGHT.COLOUR=#FF0000;
DLIGHT.AUTOCOLOUR="BAL2A0";

STATES(IDLE)=BAL2:A:4:BRIGHT:NOTHING,
             BAL2:B:4:BRIGHT:NOTHING;

STATES(DEATH)=BAL2:C:0:BRIGHT:DLIGHT_SET(200),
              BAL2:C:0:BRIGHT:DLIGHT_FADE(0),
              BAL2:C:0:BRIGHT:TRANS_FADE(0%),
              BAL2:C:0:BRIGHT:KILLSOUND,
              BAL2:C:6:BRIGHT:PLAYSOUND(FIRXPL),
              BAL2:D:6:BRIGHT:NOTHING,
              BAL2:E:6:BRIGHT:NOTHING,
              #REMOVE;

[BARON_CLOSECOMBAT]
ATTACKTYPE=CLOSECOMBAT;
DAMAGE.VAL=10;
DAMAGE.MAX=80;
DAMAGE.OBITUARY="OB_BaronClaw";
ENGAGED_SOUND=CLAW;
ATTACKRANGE=64;
ATTACK_SPECIAL=NEED_SIGHT,FACE_TARGET;

[BARON_FIREBALL]
ATTACKTYPE=PROJECTILE;
HEIGHT=8;
RADIUS=6;
DAMAGE.VAL=8;
DAMAGE.MAX=64;
DAMAGE.OBITUARY="OB_Baron";
ATTACK_HEIGHT=32;
SPEED=15;
FAST_SPEED=20;
PROJECTILE_SPECIAL=NOBLOCKMAP,MISSILE,DROPOFF,NOGRAVITY;
LAUNCH_SOUND=FIRSHT;
ATTACK_SPECIAL=FACE_TARGET;
TRANSLUCENCY=65%;
DLIGHT.TYPE=MODULATE;
DLIGHT.RADIUS=100;
//DLIGHT.COLOUR=#00FF00;
DLIGHT.AUTOCOLOUR="BAL7A1A5";

STATES(IDLE)=BAL7:A:4:BRIGHT:NOTHING,
             BAL7:B:4:BRIGHT:NOTHING;

STATES(DEATH)=BAL7:C:0:BRIGHT:DLIGHT_SET(200),
              BAL7:C:0:BRIGHT:DLIGHT_FADE(0),
              BAL7:C:0:BRIGHT:TRANS_FADE(0%),
              BAL7:C:0:BRIGHT:KILLSOUND,
              BAL7:C:7:BRIGHT:PLAYSOUND(FIRXPL),
              BAL7:D:7:BRIGHT:NOTHING,
              BAL7:E:7:BRIGHT:NOTHING,
              #REMOVE;

[MASTERMIND_CHAINGUN]
ATTACKTYPE=SHOT;
SHOTCOUNT=3;
DAMAGE.VAL=3;
DAMAGE.MAX=15;
DAMAGE.OBITUARY="OB_Mastermind";
ACCURACY_ANGLE=14;
ACCURACY_SLOPE=0;
ENGAGED_SOUND=SHOTGN;
KEEP_FIRING_CHANCE=3.92%;
ATTACK_SPECIAL=FACE_TARGET;
PUFF=PUFF;

[CYBERDEMON_MISSILE]
ATTACKTYPE=PROJECTILE;
HEIGHT=8;
RADIUS=11;
DAMAGE.VAL=20;
DAMAGE.MAX=160;
DAMAGE.OBITUARY="OB_Cyberdemon";
SPEED=20;
ACCURACY_ANGLE=0;
ACCURACY_SLOPE=0;
ATTACK_HEIGHT=44;
X_OFFSET=20;
EXPLODE_DAMAGE.VAL=128;
EXPLODE_DAMAGE.OBITUARY="OB_Cyberdemon";
ATTACK_SPECIAL=FACE_TARGET;
PROJECTILE_SPECIAL=NOBLOCKMAP,DROPOFF,NOGRAVITY,MISSILE,NOSHADOW;
LAUNCH_SOUND=RLAUNC;
DLIGHT.TYPE=MODULATE;
DLIGHT.RADIUS=100;
//DLIGHT.COLOUR=#CC4400;
DLIGHT.AUTOCOLOUR="MISLB0";

STATES(IDLE)=MISL:A:1:BRIGHT:NOTHING;

STATES(DEATH)=MISL:B:0:BRIGHT:DLIGHT_SET(300),
              MISL:B:0:BRIGHT:DLIGHT_FADE(0),
              MISL:B:0:BRIGHT:TRANS_FADE(0%),
              MISL:B:0:BRIGHT:KILLSOUND,
              MISL:B:0:BRIGHT:PLAYSOUND(BAREXP),
              MISL:B:8:BRIGHT:EXPLOSIONDAMAGE,
              MISL:C:6:BRIGHT:NOTHING,
              MISL:D:4:BRIGHT:NOTHING,
              #REMOVE;

// These are named INTERNAL_ to try to avoid conflicting with existing mods
// They are the default attacks used by the A_FireOldBFG and A_BetaSkullAttack pointers

[INTERNAL_BETA_BFG_1]
ATTACKTYPE=PROJECTILE;
HEIGHT=8;
RADIUS=6;
ACCURACY_ANGLE=14;
ACCURACY_SLOPE=14;
DAMAGE.VAL=5;
DAMAGE.MAX=40;
DAMAGE.OBITUARY="OB_BFG";
ATTACK_HEIGHT=32;
SPEED=20;
TRANSLUCENCY=50%;
PROJECTILE_SPECIAL=NOBLOCKMAP,MISSILE,DROPOFF,NOGRAVITY,NOSHADOW;
DLIGHT.TYPE=MODULATE;
DLIGHT.RADIUS=80;
//DLIGHT.COLOUR=#008800;
DLIGHT.AUTOCOLOUR="PLS1A0";

STATES(IDLE)=PLS1:A:3:LIT88:NOTHING,
             PLS1:B:3:LIT88:NOTHING,
             PLS1:C:3:LIT88:NOTHING,
             PLS1:D:3:LIT88:NOTHING;

STATES(DEATH)=PLS1:E:0:LIT88:DLIGHT_FADE(0),
              PLS1:E:0:LIT88:TRANS_FADE(0%),
              PLS1:E:2:LIT88:PLAYSOUND(FIRXPL),
              PLS1:F:2:LIT88:NOTHING,
              PLS1:F:2:LIT88:NOTHING,
              PLS1:F:2:LIT88:NOTHING,
              PLS1:G:2:LIT88:NOTHING,
              PLS1:G:2:LIT88:NOTHING,
              #REMOVE;

[INTERNAL_BETA_BFG_2]
ATTACKTYPE=PROJECTILE;
HEIGHT=8;
RADIUS=6;
ACCURACY_ANGLE=14;
ACCURACY_SLOPE=14;
DAMAGE.VAL=5;
DAMAGE.MAX=40;
DAMAGE.OBITUARY="OB_BFG";
ATTACK_HEIGHT=32;
SPEED=20;
TRANSLUCENCY=50%;
PROJECTILE_SPECIAL=NOBLOCKMAP,MISSILE,DROPOFF,NOGRAVITY,NOSHADOW;
DLIGHT.TYPE=MODULATE;
DLIGHT.RADIUS=80;
//DLIGHT.COLOUR=#880000;
DLIGHT.AUTOCOLOUR="PLS2A0";

STATES(IDLE)=PLS2:A:3:LIT88:NOTHING,
             PLS2:B:3:LIT88:NOTHING,
             PLS2:A:3:LIT88:NOTHING,
             PLS2:B:3:LIT88:NOTHING;

STATES(DEATH)=PLS2:C:0:LIT88:DLIGHT_FADE(0),
              PLS2:C:0:LIT88:TRANS_FADE(0%),
              PLS2:C:2:LIT88:PLAYSOUND(FIRXPL),
              PLS2:D:2:LIT88:NOTHING,
              PLS2:D:2:LIT88:NOTHING,
              PLS2:D:2:LIT88:NOTHING,
              PLS2:E:2:LIT88:NOTHING,
              PLS2:E:2:LIT88:NOTHING,
              #REMOVE;

[INTERNAL_FIRE_OLD_BFG]
ATTACKTYPE=DUALATTACK;
DUALATTACK1=INTERNAL_BETA_BFG_1;
DUALATTACK2=INTERNAL_BETA_BFG_2;

[INTERNAL_BETA_LOST_SOUL_ATTACK]
ATTACKTYPE=PSYCHIC;
DAMAGE.VAL=3;
DAMAGE.MAX=24;
ATTACK_SPECIAL=NEED_SIGHT,FACE_TARGET;
 
 
 
 
 
 
 
 
 
 
 
 
